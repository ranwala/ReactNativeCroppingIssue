//
//  JavaScriptEngine.h
//  RNScanbotSDK
//
//  Created by Marco Saia on 05.08.21.
//

#import <Foundation/Foundation.h>
#import <JavaScriptCore/JavaScriptCore.h>

/**
 * This class contains JavaScript related methods, used to execute
 * callbacks natively in a synchronous manner, using JavaScriptCore.
 */
@interface JavaScriptEngine : NSObject

/**
 * This parses and execute a JSTextFunction.
 * The JSTextFunction must be built from one of the JS layer builders in order
 * to be processed correctly here.
 * @param jsText The JSTextFunction as received from the JS layer
 * @param arguments The arguments to pass to the JS function
 * @return The function result (or null if the execution failed)
 */
+ (JSValue*)executeBlock:(NSString*)jsText withArguments:(NSArray<NSString*>*)arguments;
/**
 * This parses and execute a JSTextFunction.
 * The JSTextFunction must be built from one of the JS layer builders in order
 * to be processed correctly here.
 * @param jsText The JSTextFunction as received from the JS layer
 * @param argument The argument to pass to the JS function
 * @return The function result (or null if the execution failed)
 */
+ (JSValue*)executeBlock:(NSString*)jsText withArgument:(NSString*)argument;

@end
