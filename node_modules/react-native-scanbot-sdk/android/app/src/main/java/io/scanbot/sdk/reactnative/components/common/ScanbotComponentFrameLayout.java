package io.scanbot.sdk.reactnative.components.common;

import android.content.Context;
import android.util.AttributeSet;
import android.widget.FrameLayout;

public class ScanbotComponentFrameLayout extends FrameLayout {

    public ScanbotComponentFrameLayout(Context context, AttributeSet attrs) {
        super(context, attrs);
    }

    public ScanbotComponentFrameLayout(Context context, AttributeSet attrs, int defStyle) {
        super(context, attrs, defStyle);
    }

    public final Runnable measureAndLayout =
            new Runnable() {
                @Override
                public void run() {
                    measure(
                            MeasureSpec.makeMeasureSpec(getWidth(), MeasureSpec.EXACTLY),
                            MeasureSpec.makeMeasureSpec(getHeight(), MeasureSpec.EXACTLY));
                    layout(getLeft(), getTop(), getRight(), getBottom());
                }
            };

    @Override
    public void requestLayout() {
        super.requestLayout();
        post(measureAndLayout);
    }
}